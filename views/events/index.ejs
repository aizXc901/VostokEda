<h2>Events</h2>

<div class="mb-3">
    <a href="/events/new" class="btn btn-primary">Add New Event</a>
</div>

<div class="row">
    <div class="col-md-12">
        <% if (events.length === 0) { %>
            <div class="alert alert-info">No events found. <a href="/events/new">Create one now</a>.</div>
        <% } else { %>
            <table class="table table-striped table-hover">
                <thead class="table-dark">
                    <tr>
                        <th>ID</th>
                        <th>Name</th>
                        <th>Date</th>
                        <th>Time</th>
                        <th>Guests</th>
                        <th>Budget</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% events.forEach(event => { %>
                        <tr>
                            <td><%= event.id %></td>
                            <td><%= event.name %></td>
                            <td><%= new Date(event.date).toLocaleDateString() %></td>
                            <td><%= event.startTime %></td>
                            <td><%= event.expectedGuests %></td>
                            <td><%= event.budget %></td>
                            <td>
                                <a href="/orders?eventId=<%= event.id %>" class="btn btn-sm btn-outline-info">View Orders</a>
                            </td>
                        </tr>
                    <% }); %>
                </tbody>
            </table>
        <% } %>
    </div>
</div>